<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARC RAIDERS | TRACKING TERMINAL V13</title>
    <style>
        :root {
            --bg: #0c0e10;
            --card: #15181b;
            --accent: #ff6b00;
            --blue: #00d4ff;
            --border: #2c3238;
            --text-main: #e0e0e0;
            --text-dim: #777;
            --input-bg: #000;
            --Common: #b0b0b0;
            --Uncommon: #2ecc71;
            --Rare: #3498db;
            --Epic: #9b59b6;
            --Legendary: #f1c40f;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            background-color: var(--bg);
            color: var(--text-main);
            font-family: 'Share Tech Mono', monospace;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        header {
            height: 60px;
            padding: 0 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid var(--accent);
            background: #000;
        }

        h1 { font-size: 1.5rem; letter-spacing: 4px; color: var(--accent); }

        main {
            display: grid;
            grid-template-columns: 1fr 380px; 
            height: calc(100vh - 90px);
            gap: 15px;
            padding: 15px;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 12px;
        }

        .card {
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 4px;
            padding: 12px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .card-header {
            color: var(--blue);
            font-size: 1rem;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            border-bottom: 1px solid var(--border);
            padding-bottom: 6px;
            display: flex;
            justify-content: space-between;
        }

        .row-labels {
            display: grid;
            grid-template-columns: 1fr 50px 50px;
            gap: 6px;
            font-size: 0.65rem;
            color: var(--text-dim);
            margin-bottom: 4px;
        }

        .row {
            display: grid;
            grid-template-columns: 1fr 50px 50px;
            gap: 6px;
            margin-bottom: 6px;
        }

        input {
            background: var(--input-bg);
            border: 1px solid var(--border);
            color: white;
            padding: 8px;
            font-family: inherit;
            font-size: 0.9rem;
            border-radius: 3px;
        }

        input:focus { border-color: var(--accent); outline: none; }
        .qty-input { color: var(--accent); text-align: center; }

        .custom-scroll {
            overflow-y: auto;
            flex-grow: 1;
        }
        .custom-scroll::-webkit-scrollbar { width: 3px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: var(--border); }

        .btn-add {
            background: none;
            border: 1px dashed var(--blue);
            color: var(--blue);
            width: 100%;
            padding: 6px;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.75rem;
            margin-top: 8px;
        }
        .btn-add:hover { background: rgba(0, 212, 255, 0.1); }

        .sidebar {
            background: #080a0c;
            border: 1px solid var(--accent);
            padding: 15px;
            display: flex;
            flex-direction: column;
        }

        .sidebar-title { color: var(--accent); margin-bottom: 15px; font-size: 1.1rem; border-bottom: 1px solid var(--accent); padding-bottom: 8px; }
        .summary-scroll { flex-grow: 1; overflow-y: auto; }
        .summary-scroll::-webkit-scrollbar { width: 3px; }
        .summary-scroll::-webkit-scrollbar-thumb { background: var(--accent); }

        .summary-line {
            display: flex;
            justify-content: space-between;
            background: #111;
            padding: 10px 15px;
            margin-bottom: 6px;
            font-size: 0.95rem;
            border-left: 3px solid var(--accent);
        }

        footer {
            height: 30px;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.75rem;
            color: #444;
            border-top: 1px solid var(--border);
        }

        .dropdown-list {
            position: absolute;
            background: #111;
            border: 1px solid var(--accent);
            z-index: 1000;
            width: 250px;
            max-height: 250px;
            overflow-y: auto;
            display: none;
        }
        .dd-item { 
            padding: 10px; 
            cursor: pointer; 
            font-size: 0.8rem; 
            border-bottom: 1px solid #222;
            display: flex;
            justify-content: space-between;
        }
        .dd-item:hover { background: #222; }
        .rarity-tag { font-size: 0.6rem; padding: 2px 4px; border-radius: 2px; text-transform: uppercase; }

        .Common { color: var(--Common); }
        .Uncommon { color: var(--Uncommon); }
        .Rare { color: var(--Rare); }
        .Epic { color: var(--Epic); }
        .Legendary { color: var(--Legendary); font-weight: bold; }
    </style>
</head>
<body>

<header>
    <h1>TRACKING TERMINAL</h1>
    <div style="display:flex; align-items:center; gap:20px;">
        <span style="color:var(--text-dim); font-size:0.7rem;">STASH_OS_ACTIVE</span>
        <button onclick="if(confirm('WIPE DATA?')){localStorage.clear(); location.reload();}" style="background:none; border:1px solid #400; color:#800; padding:3px 10px; font-size:0.65rem; cursor:pointer;">FORMAT_OS</button>
    </div>
</header>

<main>
    <div class="grid-container" id="station-grid"></div>

    <div class="sidebar">
        <div class="sidebar-title">EXTRACTION_REQUIRED</div>
        <div class="summary-scroll" id="extraction-list"></div>
    </div>
</main>

<footer>
    &copy; 2026 Lil_ArtGhoul | ALL RIGHTS RESERVED | ARC RAIDERS COMMAND
</footer>

<script>
    const stations = ["Scrappy", "Gunsmith", "Utility Station", "Explosive Station", "Medical Lab", "Gear Bench", "Refiner"];
    
    // MASTER DATABASE FROM UPLOADED CSV
    const itemDatabase = [
        {"name": "Advanced ARC Powercell", "rarity": "Rare"}, {"name": "Advanced Electrical Components", "rarity": "Rare"}, {"name": "Advanced Mechanical Components", "rarity": "Rare"}, {"name": "Agave", "rarity": "Uncommon"}, {"name": "Agave Juice", "rarity": "Common"}, {"name": "Air Freshener", "rarity": "Uncommon"}, {"name": "Alarm Clock", "rarity": "Rare"}, {"name": "Antiseptic", "rarity": "Rare"}, {"name": "Apricot", "rarity": "Uncommon"}, {"name": "ARC Alloy", "rarity": "Uncommon"}, {"name": "ARC Circuitry", "rarity": "Rare"}, {"name": "ARC Coolant", "rarity": "Rare"}, {"name": "ARC Flex Rubber", "rarity": "Rare"}, {"name": "ARC Motion Core", "rarity": "Rare"}, {"name": "ARC Performance Steel", "rarity": "Rare"}, {"name": "ARC Powercell", "rarity": "Common"}, {"name": "ARC Synthetic Resin", "rarity": "Rare"}, {"name": "ARC Thermo Lining", "rarity": "Rare"}, {"name": "Assorted Seeds", "rarity": "Common"}, {"name": "Bastion Cell", "rarity": "Epic"}, {"name": "Battery", "rarity": "Uncommon"}, {"name": "Bicycle Pump", "rarity": "Rare"}, {"name": "Bloated Tuna Can", "rarity": "Common"}, {"name": "Bombardier Cell", "rarity": "Epic"}, {"name": "Breathtaking Snow Globe", "rarity": "Epic"}, {"name": "Broken Flashlight", "rarity": "Rare"}, {"name": "Broken Guidance System", "rarity": "Rare"}, {"name": "Broken Handheld Radio", "rarity": "Rare"}, {"name": "Broken Taser", "rarity": "Rare"}, {"name": "Burned ARC Circuitry", "rarity": "Uncommon"}, {"name": "Camera Lens", "rarity": "Uncommon"}, {"name": "Candle Holder", "rarity": "Uncommon"}, {"name": "Candleberries", "rarity": "Rare"}, {"name": "Canister", "rarity": "Uncommon"}, {"name": "Cat Bed", "rarity": "Uncommon"}, {"name": "Chemicals", "rarity": "Common"}, {"name": "Coffee Pot", "rarity": "Common"}, {"name": "Complex Gun Parts", "rarity": "Epic"}, {"name": "Coolant", "rarity": "Rare"}, {"name": "Cooling Coil", "rarity": "Rare"}, {"name": "Cooling Fan", "rarity": "Rare"}, {"name": "Cracked Bioscanner", "rarity": "Rare"}, {"name": "Crude Explosives", "rarity": "Uncommon"}, {"name": "Crumpled Plastic Bottle", "rarity": "Uncommon"}, {"name": "Damaged ARC Motion Core", "rarity": "Uncommon"}, {"name": "Damaged ARC Powercell", "rarity": "Common"}, {"name": "Damaged Fireball Burner", "rarity": "Common"}, {"name": "Damaged Heat Sink", "rarity": "Rare"}, {"name": "Damaged Hornet Driver", "rarity": "Common"}, {"name": "Damaged Rocketeer Driver", "rarity": "Common"}, {"name": "Damaged Tick Pod", "rarity": "Common"}, {"name": "Damaged Wasp Driver", "rarity": "Common"}, {"name": "Dart Board", "rarity": "Uncommon"}, {"name": "Deflated Football", "rarity": "Uncommon"}, {"name": "Degraded ARC Rubber", "rarity": "Uncommon"}, {"name": "Diving Goggles", "rarity": "Rare"}, {"name": "Dog Collar", "rarity": "Rare"}, {"name": "Dried-Out ARC Resin", "rarity": "Uncommon"}, {"name": "Durable Cloth", "rarity": "Uncommon"}, {"name": "Electrical Components", "rarity": "Uncommon"}, {"name": "Empty Wine Bottle", "rarity": "Common"}, {"name": "Exodus Modules", "rarity": "Epic"}, {"name": "Expired Pasta", "rarity": "Common"}, {"name": "Expired Respirator", "rarity": "Rare"}, {"name": "Explosive Compound", "rarity": "Rare"}, {"name": "Fabric", "rarity": "Common"}, {"name": "Faded Photograph", "rarity": "Common"}, {"name": "Fertilizer", "rarity": "Uncommon"}, {"name": "Film reel", "rarity": "Rare"}, {"name": "Fine Wristwatch", rarity: "Rare"}, {"name": "Fireball Burner", "rarity": "Uncommon"}, {"name": "Flow Controller", "rarity": "Rare"}, {"name": "Fossilized Lightning", "rarity": "Epic"}, {"name": "Frequency Modulation Box", "rarity": "Rare"}, {"name": "Fried Motherboard", "rarity": "Rare"}, {"name": "Frying Pan", "rarity": "Rare"}, {"name": "Garlic Press", "rarity": "Uncommon"}, {"name": "Geiger Counter", "rarity": "Epic"}, {"name": "Great Mullein", "rarity": "Uncommon"}, {"name": "Headphones", "rarity": "Rare"}, {"name": "Heavy Gun Parts", "rarity": "Rare"}, {"name": "Hornet Driver", "rarity": "Rare"}, {"name": "Household Cleaner", "rarity": "Uncommon"}, {"name": "Humidifier", "rarity": "Rare"}, {"name": "Ice Cream Scooper", "rarity": "Uncommon"}, {"name": "Impure ARC Coolant", "rarity": "Uncommon"}, {"name": "Industrial Battery", "rarity": "Rare"}, {"name": "Industrial Charger", "rarity": "Rare"}, {"name": "Industrial Magnet", "rarity": "Rare"}, {"name": "Ion Sputter", "rarity": "Epic"}, {"name": "Laboratory Reagents", "rarity": "Rare"}, {"name": "Lance's Mixtape", "rarity": "Epic"}, {"name": "Leaper Pulse Unit", "rarity": "Epic"}, {"name": "Lemon", "rarity": "Uncommon"}, {"name": "Light Gun Parts", "rarity": "Rare"}, {"name": "Light Bulb", "rarity": "Uncommon"}, {"name": "Magnet", "rarity": "Uncommon"}, {"name": "Magnetic Accelerator", "rarity": "Epic"}, {"name": "Magnetron", "rarity": "Epic"}, {"name": "Matriarch Reactor", "rarity": "Legendary"}, {"name": "Mechanical Components", "rarity": "Uncommon"}, {"name": "Medium Gun Parts", "rarity": "Rare"}, {"name": "Metal Brackets", "rarity": "Uncommon"}, {"name": "Metal Parts", "rarity": "Common"}, {"name": "Micro-Controller", "rarity": "Rare"}, {"name": "Microscope", "rarity": "Rare"}, {"name": "Microwave Magnetron", "rarity": "Epic"}, {"name": "Mod Components", "rarity": "Rare"}, {"name": "Motor", "rarity": "Rare"}, {"name": "Mushroom", "rarity": "Common"}, {"name": "Muzzle Brake", "rarity": "Uncommon"}, {"name": "Old Boot", "rarity": "Common"}, {"name": "Olives", "rarity": "Uncommon"}, {"name": "Optic Lens", "rarity": "Rare"}, {"name": "Overlord CPU", "rarity": "Epic"}, {"name": "Photoelectric Cloak", "rarity": "Rare"}, {"name": "Photoelectric Cloak Snap Hook", "rarity": "Rare"}, {"name": "Plastic Parts", "rarity": "Common"}, {"name": "Pop Trigger", "rarity": "Uncommon"}, {"name": "Portable TV", "rarity": "Rare"}, {"name": "Poster of Natural Wonders", "rarity": "Uncommon"}, {"name": "Pottery", "rarity": "Uncommon"}, {"name": "Power Bank", "rarity": "Rare"}, {"name": "Power Cable", "rarity": "Rare"}, {"name": "Power Rod", "rarity": "Epic"}, {"name": "Prickly Pear", "rarity": "Uncommon"}, {"name": "Processor", "rarity": "Rare"}, {"name": "Projector", "rarity": "Rare"}, {"name": "Queen Reactor", "rarity": "Legendary"}, {"name": "Radio", "rarity": "Rare"}, {"name": "Radio Relay", "rarity": "Rare"}, {"name": "Recorder", "rarity": "Uncommon"}, {"name": "Red Coral Jewlery", "rarity": "Rare"}, {"name": "Remote Control", "rarity": "Rare"}, {"name": "Resin", "rarity": "Common"}, {"name": "Ripped Safety Vest", "rarity": "Uncommon"}, {"name": "Rocket Thruster", "rarity": "Rare"}, {"name": "Rocketeer Driver", "rarity": "Epic"}, {"name": "Roots", "rarity": "Uncommon"}, {"name": "Rope", "rarity": "Rare"}, {"name": "Rosary", "rarity": "Rare"}, {"name": "Rotary Encoder", "rarity": "Rare"}, {"name": "Rubber Duck", "rarity": "Common"}, {"name": "Rubber Pad", "rarity": "Rare"}, {"name": "Rubber Parts", "rarity": "Common"}, {"name": "Ruined Accordion", "rarity": "Rare"}, {"name": "Ruined Baton", "rarity": "Uncommon"}, {"name": "Ruined Handcuffs", "rarity": "Uncommon"}, {"name": "Ruined Parachute", "rarity": "Uncommon"}, {"name": "Ruined Riot Shield", "rarity": "Rare"}, {"name": "Ruined Tactical Vest", "rarity": "Uncommon"}, {"name": "Rusted Bolts", "rarity": "Uncommon"}, {"name": "Rusted Gear", "rarity": "Rare"}, {"name": "Rusted Shut Medical Kit", "rarity": "Rare"}, {"name": "Rusted Tools", "rarity": "Rare"}, {"name": "Rusty ARC Steel", "rarity": "Uncommon"}, {"name": "Sample Cleaner", "rarity": "Rare"}, {"name": "Sensors", "rarity": "Rare"}, {"name": "Sentinel Firing Core", "rarity": "Rare"}, {"name": "Shredder Gyro", "rarity": "Rare"}, {"name": "Signal Amplifier", "rarity": "Rare"}, {"name": "Silver Teaspoon Set", "rarity": "Rare"}, {"name": "Simple Gun Parts", "rarity": "Uncommon"}, {"name": "Snitch Scanner", "rarity": "Uncommon"}, {"name": "Speaker Component", "rarity": "Rare"}, {"name": "Spectrometer", "rarity": "Rare"}, {"name": "Spectrum Analyzer", "rarity": "Epic"}, {"name": "Spotter Relay", "rarity": "Uncommon"}, {"name": "Spring Cushion", "rarity": "Rare"}, {"name": "Statuette", "rarity": "Rare"}, {"name": "Steel Spring", "rarity": "Uncommon"}, {"name": "Surveyor Vault", "rarity": "Rare"}, {"name": "Synthesized Fuel", "rarity": "Rare"}, {"name": "Syringe", "rarity": "Rare"}, {"name": "Tattered ARC Lining", "rarity": "Uncommon"}, {"name": "Tattered Clothes", "rarity": "Uncommon"}, {"name": "Telemetry Transceiver", "rarity": "Rare"}, {"name": "Thermostat", "rarity": "Rare"}, {"name": "Tick Pod", "rarity": "Uncommon"}, {"name": "Titanium Hull Plate", "rarity": "Epic"}, {"name": "Toaster", "rarity": "Rare"}, {"name": "Toy Robot", "rarity": "Epic"}, {"name": "Trigger Assembly", "rarity": "Rare"}, {"name": "Vacuum Pump", "rarity": "Rare"}, {"name": "Vacuum Tube", "rarity": "Rare"}, {"name": "Very Comfortable Pillow", "rarity": "Epic"}, {"name": "Vita Shot", "rarity": "Common"}, {"name": "Vita Spray", "rarity": "Common"}, {"name": "Voltage Converter", "rarity": "Uncommon"}, {"name": "Wasp Driver", "rarity": "Uncommon"}, {"name": "Wires", "rarity": "Common"}
    ].sort((a,b) => a.name.localeCompare(b.name));

    let state = JSON.parse(localStorage.getItem('arc_v13_final')) || { stations: {}, custom: [] };

    function init() {
        const grid = document.getElementById('station-grid');
        stations.forEach((s, idx) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `<div class="card-header"><span>${s}</span><span style="opacity:0.2; font-size:0.6rem;">STN_0${idx+1}</span></div>
                              <div class="row-labels"><span>ITEM_NAME</span><span>NEED</span><span>HAVE</span></div>`;
            for(let i=1; i<=3; i++) {
                const id = `${s.replace(/\s/g,'')}_r${i}`;
                card.appendChild(createRow(id, 'station'));
            }
            grid.appendChild(card);
        });

        const customCard = document.createElement('div');
        customCard.className = 'card';
        customCard.innerHTML = `<div class="card-header" style="color:var(--accent)"><span>CUSTOM_PROJECTS</span><span style="opacity:0.2; font-size:0.6rem;">OBJ_08</span></div>
                                <div class="row-labels"><span>ITEM_NAME</span><span>NEED</span><span>HAVE</span></div>
                                <div class="custom-scroll" id="custom-container"></div>
                                <button class="btn-add" onclick="addCustom()">+ ADD OBJECTIVE</button>`;
        grid.appendChild(customCard);
        state.custom.forEach((_, idx) => renderCustom(idx));
        updateSummary();
    }

    function createRow(id, type, idx = null) {
        const data = type === 'station' ? (state.stations[id] || {i:'', n:0, h:0}) : state.custom[idx];
        const row = document.createElement('div');
        row.className = 'row';
        row.innerHTML = `
            <div style="position:relative">
                <input type="text" placeholder="..." id="${id}-i" value="${data.i || data.item || ''}" oninput="search('${id}')" onfocus="search('${id}')">
                <div id="${id}-list" class="dropdown-list"></div>
            </div>
            <input type="number" class="qty-input" id="${id}-n" value="${data.n || data.need || 0}" onchange="save('${id}','${type}',${idx})">
            <input type="number" class="qty-input" id="${id}-h" value="${data.h || data.have || 0}" onchange="save('${id}','${type}',${idx})">
        `;
        return row;
    }

    function addCustom() {
        const idx = state.custom.length;
        state.custom.push({item:'', need: 0, have: 0});
        renderCustom(idx);
        save();
    }

    function renderCustom(idx) {
        document.getElementById('custom-container').appendChild(createRow(`c${idx}`, 'custom', idx));
    }

    function search(id) {
        const val = document.getElementById(id+'-i').value.toLowerCase();
        const list = document.getElementById(id+'-list');
        list.style.display = 'block';
        list.innerHTML = itemDatabase.filter(i => i.name.toLowerCase().includes(val))
            .map(i => `<div class="dd-item" onclick="select('${id}','${i.name}')">
                        <span>${i.name}</span>
                        <span class="rarity-tag ${i.rarity}">${i.rarity}</span>
                      </div>`).join('');
    }

    function select(id, val) {
        document.getElementById(id+'-i').value = val;
        document.getElementById(id+'-list').style.display = 'none';
        const type = id.startsWith('c') ? 'custom' : 'station';
        const idx = type === 'custom' ? parseInt(id.substring(1)) : null;
        save(id, type, idx);
    }

    function save(id, type, idx) {
        if(id) {
            const data = { 
                i: document.getElementById(id+'-i').value, 
                n: parseInt(document.getElementById(id+'-n').value) || 0, 
                h: parseInt(document.getElementById(id+'-h').value) || 0 
            };
            if(type === 'station') state.stations[id] = data;
            else state.custom[idx] = { item: data.i, need: data.n, have: data.h };
        }
        localStorage.setItem('arc_v13_final', JSON.stringify(state));
        updateSummary();
    }

    function updateSummary() {
        const list = document.getElementById('extraction-list');
        const totals = {};
        
        const collect = (entry) => { 
            const name = entry.i || entry.item;
            const nVal = entry.n !== undefined ? entry.n : entry.need;
            const hVal = entry.h !== undefined ? entry.h : entry.have;
            const need = parseInt(nVal) || 0;
            const have = parseInt(hVal) || 0;
            
            // STRICT LOGIC: Fix for 0-count tracking
            if (name && name.trim() !== "" && need > have) {
                totals[name] = (totals[name] || 0) + (need - have);
            }
        };

        Object.values(state.stations).forEach(collect);
        state.custom.forEach(collect);

        const itemsToExtract = Object.entries(totals);
        
        if (itemsToExtract.length === 0) {
            list.innerHTML = '<div style="color:#333; text-align:center; padding-top:40px;">STASH SECURED.</div>';
        } else {
            list.innerHTML = itemsToExtract.map(([n, q]) => `
                <div class="summary-line">
                    <span>${n}</span>
                    <span style="color:var(--accent)">NEED ${q}</span>
                </div>
            `).join('');
        }
    }

    document.addEventListener('click', e => { if(!e.target.id.includes('-i')) document.querySelectorAll('.dropdown-list').forEach(l => l.style.display='none'); });
    init();
</script>
</body>
</html>
